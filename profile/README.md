#### –•–∞–∫–∞—Ç–æ–Ω "–õ–∏–¥–µ—Ä—ã —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏" 2025
---
# –ö–æ–º–∞–Ω–¥–∞ "–§–µ–ª–∏—á–∏—Ç–∞"
## –ë–∏–∑–Ω–µ—Å | –ó–∞–¥–∞—á–∞ 10. –°–µ—Ä–≤–∏—Å –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Ç–∏ ‚Äú–ü—è—Ç–µ—Ä–æ—á–∫–∞‚Äù | X5

## üîπ –û–ø–∏—Å–∞–Ω–∏–µ
–í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Ç–∏. –Ø–¥—Ä–æ —Ä–µ—à–µ–Ω–∏—è ‚Äî –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è BERT-–º–æ–¥–µ–ª—å, –æ–±–æ–≥–∞—â–µ–Ω–Ω–∞—è –¥–∞–Ω–Ω—ã–º–∏ OpenFoodFacts –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–∞–π—Ç–∞ ¬´–ü—è—Ç—ë—Ä–æ—á–∫–∏¬ª. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è ‚Äî —Å–æ—á–µ—Ç–∞–Ω–∏–µ NER (Named Entity Recognition) —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º –∏ –ø—Ä–∏–≤—è–∑–∫–æ–π —Å—É—â–Ω–æ—Å—Ç–µ–π –∫ —Ä–µ–∞–ª—å–Ω—ã–º —Ç–æ–≤–∞—Ä–∞–º –∏–∑ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ —Å–µ—Ç–∏.

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:  
1. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** (–æ–±–ª–µ–≥—á–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –º–æ–¥–µ–ª—å—é.
2. **RPC-—Ä–µ–∂–∏–º** (–Ω–∞–¥—Å—Ç—Ä–π–æ–∫–∞ –Ω–∞–¥ –ø.1 —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥–∏–±–∫–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ observability) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `nginx`, `bot-test-gateway` –∏ `RabbitMQ`.
3. **–ü–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º** (–Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –ø.2 —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `frontend`, `backend`, –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ `OpenSearch`.  

## üîπ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ü–æ–ª–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
https://github.com/user-attachments/assets/63058a90-6f74-4c68-bbd8-2ffd61186cf6


## üîπ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:  
- **–û–°**: Linux / macOS / Windows (WSL2 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)  
- **Python**: >= 3.11  
- **Docker** –∏ **Docker Compose**: >= 20.10  
- **uv** (–º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python): [uv installation](https://github.com/astral-sh/uv)  
- **Git**: >= 2.40


## 1. –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
### model

```bash
git clone git@github.com:hackathon-lct-felicita/model.git
cd model
uv run python run.py
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://github.com/hackathon-lct-felicita/model/blob/main/README.md


## 2. RPC-—Ä–µ–∂–∏–º

```mermaid
sequenceDiagram
    participant Bot as @x5_ner_hack_bot
    participant Nginx as nginx
    participant Gateway as bot-test-gateway
    participant RabbitMQ as RabbitMQ
    participant Model as Model Service

    Bot->>+Nginx: POST /api/predict<br/>{input: "—Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"}
    
    Nginx->>+Gateway: –ü–µ—Ä–µ—Å—ã–ª–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–∞
    
    Gateway->>Gateway: –û–±—Ä–∞–±–æ—Ç–∫–∞ middleware<br/>(–∑–∞–≥–æ–ª–æ–≤–∫–∏, –º–µ—Ç—Ä–∏–∫–∏)
    
    Gateway->>+RabbitMQ: RPC –∑–∞–ø—Ä–æ—Å –∫ –º–æ–¥–µ–ª–∏
    
    RabbitMQ->>+Model: –ü–µ—Ä–µ—Å—ã–ª–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
    
    Model->>Model: –û–±—Ä–∞–±–æ—Ç–∫–∞ NER –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è<br/>(–∞–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞)
    
    Model-->>-RabbitMQ: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
    
    RabbitMQ-->>-Gateway: RPC –æ—Ç–≤–µ—Ç
    
    Gateway->>Gateway: –ó–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫
    
    Gateway-->>-Nginx: HTTP 200<br/>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã NER
    
    Nginx-->>-Bot: –ü–µ—Ä–µ—Å—ã–ª–∫–∞ –æ—Ç–≤–µ—Ç–∞
```


### nginx
```bash
git clone git@github.com:hackathon-lct-felicita/nginx.git
cd nginx
docker compose up --build
```

### bot-test-gateway
```bash
git clone git@github.com:hackathon-lct-felicita/bot-test-gateway.git
cd bot-test-gateway
uv run python run.py
# –∏–ª–∏: docker compose up --build
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://github.com/hackathon-lct-felicita/bot-test-gateway/blob/main/README.md


### rabbitmq

```bash
git clone git@github.com:hackathon-lct-felicita/rabbitmq.git
cd rabbitmq
docker compose up
```

### model
```bash
git clone git@github.com:hackathon-lct-felicita/model.git
cd model
uv run python run_rpc.py
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://github.com/hackathon-lct-felicita/model/blob/main/README.md

## 3. –ü–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º
```mermaid
sequenceDiagram
    participant U as User
    participant N as Nginx
    participant F as Frontend
    participant B as Backend<br/>(FastAPI)
    participant OS as OpenSearch
    participant RMQ as RabbitMQ
    participant ML as ML Model<br/>(NER Service)

    Note over U, ML: 1. –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å NER

    U->>N: GET /search?q="–º–æ–ª–æ–∫–æ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ 1–ª"
    Note right of U: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å

    N->>F: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    Note right of N: Nginx –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ frontend

    F->>B: GET /search?q="–º–æ–ª–æ–∫–æ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ 1–ª"
    Note right of F: Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ backend

    activate B

    B->>B: SearchProductsWithNERUseCase.execute()
    Note right of B: –ó–∞–ø—É—Å–∫ use case –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å NER

    Note over U, ML: 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ NER

    B->>RMQ: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ RabbitMQ
    Note right of B: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å RabbitMQ

    B->>RMQ: RPC Call: predict("–º–æ–ª–æ–∫–æ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ 1–ª")
    Note right of B: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∞–Ω–∞–ª–∏–∑

    RMQ->>ML: –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ –æ—á–µ—Ä–µ–¥—å model_rpc_queue
    Note right of RMQ: –ó–∞–ø—Ä–æ—Å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å ML —Å–µ—Ä–≤–∏—Å–∞

    activate ML
    ML->>ML: NER –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
    Note right of ML: ML –º–æ–¥–µ–ª—å –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏:<br/>- "–º–æ–ª–æ–∫–æ" -> B-TYPE<br/>- "–ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ" -> B-BRAND<br/>- "1–ª" -> B-VOLUME

    ML->>RMQ: –í–æ–∑–≤—Ä–∞—Ç —Å—É—â–Ω–æ—Å—Ç–µ–π
    Note right of ML: –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

    RMQ->>B: RPC Response: [ApiPredictResponse]
    Note right of RMQ: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ NER –∞–Ω–∞–ª–∏–∑–∞
    deactivate ML

    Note over U, ML: 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π

    B->>B: EntityService.filter_entities()
    Note right of B: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π:<br/>- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤<br/>- –í–∫–ª—é—á–µ–Ω–∏–µ O —Å—É—â–Ω–æ—Å—Ç–µ–π

    B->>B: EntityService.group_entities_by_type()
    Note right of B: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º:<br/>- TYPE: ["–º–æ–ª–æ–∫–æ"]<br/>- BRAND: ["–ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ"]<br/>- VOLUME: ["1–ª"]

    B->>B: EntityService.get_search_terms_from_entities()
    Note right of B: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤:<br/>- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç TYPE —Å—É—â–Ω–æ—Å—Ç—è–º<br/>- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ BRAND, VOLUME, PERCENT<br/>- –í–∫–ª—é—á–µ–Ω–∏–µ O —Å—É—â–Ω–æ—Å—Ç–µ–π

    B->>B: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    Note right of B: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:<br/>"–º–æ–ª–æ–∫–æ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ 1–ª –º–æ–ª–æ–∫–æ –ü—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∏–Ω–æ 1–ª"

    Note over U, ML: 4. –ü–æ–∏—Å–∫ –≤ OpenSearch

    B->>OS: –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É
    Note right of B: –ü–æ–∏—Å–∫ —Å —É—á–µ—Ç–æ–º –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

    activate OS
    OS->>OS: –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
    Note right of OS: –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—è–º name, description<br/>—Å –Ω–µ—á–µ—Ç–∫–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º

    OS->>B: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: [Product]
    Note right of OS: –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
    deactivate OS

    Note over U, ML: 5. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

    B->>F: HTTP 200: [Product]
    Note right of B: –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

    F->>N: HTTP Response
    Note right of F: Frontend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç

    N->>U: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    Note right of N: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã

    deactivate B

    Note over U, ML: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

    Note over B, ML: –ï—Å–ª–∏ NER —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
    B->>B: Fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫
    Note right of B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞<br/>–±–µ–∑ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π

    B->>OS: –ü–æ–∏—Å–∫ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É
    OS->>B: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
    Note right of OS: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å<br/>–¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ NER
```


### frontend-ngnix
```bash
git clone git@github.com:hackathon-lct-felicita/frontend.git
cd frontend
docker compose up --build
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://github.com/hackathon-lct-felicita/frontend/blob/main/README.md


### backend
```bash
git clone git@github.com:hackathon-lct-felicita/backend.git
cd backend
uv run python run.py
# –∏–ª–∏: docker compose up --build
```

### rabbitmq
```bash
git clone git@github.com:hackathon-lct-felicita/rabbitmq.git
cd rabbitmq
docker compose up
```

### model
```bash
git clone git@github.com:hackathon-lct-felicita/model.git
cd model
uv run python run_rpc.py
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://github.com/hackathon-lct-felicita/model/blob/main/README.md


### opensearch
```bash
git clone git@github.com:hackathon-lct-felicita/opensearch.git
cd opensearch
docker compose up
```




